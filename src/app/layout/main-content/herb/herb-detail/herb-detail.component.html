<!--Herb Base Infomation-->
<h5><strong>{{herb?.Chinese_name}}({{herb?.pinyin_name}})</strong></h5>
<div class="mdl-grid">
  <div class="mdl-cell mdl-cell--3-col">
    <img src="{{herb?.image}}" alt="{{herb?.Chinese_name}} Image" style="height: 320px; width: 100%;">
  </div>
  <div class="mdl-cell mdl-cell--9-col">
    <table class=" mdl-data-table mdl-js-table mdl-shadow--2dp table " style="width: 100%;">
      <tr>
        <th>Chinese Name</th>
        <td>{{herb?.Chinese_name}}</td>
      </tr>
      <tr>
        <th>English Name</th>
        <td>{{herb?.English_name}}</td>
      </tr>
      <tr>
        <th>Phonetic Name</th>
        <td>{{herb?.pinyin_name}}</td>
      </tr>
      <tr>
        <th>Latin Name</th>
        <td>{{herb?.latin_name}}</td>
      </tr>
      <tr>
        <th>Medicinal Part</th>
        <td>{{herb?.use_part}}</td>
      </tr>
      <!--<tr>-->
        <!--<th>Taxonomy</th>-->
        <!--<td>{{herb.texonomy}}</td>-->
      <!--</tr>-->
      <tr>
        <th>Wikipedia</th>
        <td>
          <a href="{{herb?.wiki_english}}" target="_blank">English-wiki</a>&nbsp;&nbsp;
          <a href="{{herb?.wiki_chinese}}" target="_blank">Chinese-wiki</a>
        </td>
      </tr>
      <tr>
        <th>Related Herbs</th>
        <td>
          <ng-container *ngIf="relatedHerbs?.length">
            <a (click)="gotoHerbDetail(relatedHerb?.id)" *ngFor="let relatedHerb of relatedHerbs">
              {{relatedHerb.Chinese_name}}({{relatedHerb?.English_name}})</a>&nbsp;&nbsp;
          </ng-container>
        </td>
      </tr>
      <tr>
        <th>Prescription</th>
        <td>
          <ng-container *ngIf="herb?.prescription_set.length">
            <a (click)="gotoPrescriptionDetail(prescription.id)" *ngFor="let prescription of herb?.prescription_set">
              {{prescription.chinese_name}}({{prescription.english_name}})&nbsp;&nbsp;
            </a>&nbsp;&nbsp;
          </ng-container>
        </td>
      </tr>
    </table>
  </div>
</div>
<br>
<h5><strong>Property</strong></h5>
<table class=" mdl-data-table mdl-js-table mdl-shadow--2dp " style="width: 100%">
  <tr>
    <th>Property</th>
    <th>Value</th>
    <th>Reference</th>
  </tr>
  <tr>
    <td>Category</td>
    <ng-container *ngIf="herb?.first_catagory_chinese">
      <td>{{herb?.first_catagory_chinese}}({{herb?.first_catagory_english}})</td>
      <td><a href="http://tcm.cmu.edu.tw/download.php?menuid=5" target="_blank">Database@Taiwan</a></td>
    </ng-container>
    <ng-container *ngIf="!herb?.first_catagory_chinese">
      <td></td>
      <td></td>
    </ng-container>
  </tr>
  <tr>
    <td>Effect</td>
    <ng-container *ngIf="herb?.effect">
      <td>{{herb?.effect}}</td>
      <td><a [href]="generaterTcmidUrl(herb?.pinyin_name)" target="_blank">TCMID</a></td>
    </ng-container>
    <ng-container *ngIf="!herb?.effect">
      <td></td>
      <td></td>
    </ng-container>
  </tr>
  <tr>
    <td>Indication</td>
    <ng-container *ngIf="herb?.indication">
      <td>{{herb.indication}}</td>
      <td><a [href]="generaterTcmidUrl(herb?.pinyin_name)" target="_blank">TCMID</a></td>
    </ng-container>
    <ng-container *ngIf="!herb?.indication">
      <td></td>
      <td></td>
    </ng-container>
  </tr>
</table>

<h5><strong>Ingredients</strong></h5>
<mat-table #ingredientsTable [dataSource]="dataSource"  style="width: 100%;">
  <ng-container matColumnDef="english_name">
    <mat-header-cell *matHeaderCellDef>English Name</mat-header-cell>
    <mat-cell *matCellDef="let row">
      <app-jsme [elementId]="row.id"
                [width]="'100px'"
                [height]="'100px'"
                [option]="'depict nozoom noshowdraganddropsymbolindepictmode'"
                [molString]="row.smiles"></app-jsme>
     <button mat-button color="primary">{{row.english_name}}</button>
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="chinese_name">
    <mat-header-cell *matHeaderCellDef>Chinese Name</mat-header-cell>
    <mat-cell *matCellDef="let row">{{row.Chinese_name}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="formula">
    <mat-header-cell *matHeaderCellDef>Formula</mat-header-cell>
    <mat-cell *matCellDef="let row">{{row.formula}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="mol_weight">
    <mat-header-cell *matHeaderCellDef>Mol Weight</mat-header-cell>
    <mat-cell *matCellDef="let row">{{row.mol_weight}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="category">
    <mat-header-cell *matHeaderCellDef>Category</mat-header-cell>
    <mat-cell *matCellDef="let row">Category</mat-cell>
  </ng-container>

  <ng-container matColumnDef="cid">
    <mat-header-cell *matHeaderCellDef>CID</mat-header-cell>
    <mat-cell *matCellDef="let row">cid</mat-cell>
  </ng-container>

  <ng-container matColumnDef="cas">
    <mat-header-cell *matHeaderCellDef>CAS</mat-header-cell>
    <mat-cell *matCellDef="let row">cas</mat-cell>
  </ng-container>

  <ng-container matColumnDef="rtb">
    <mat-header-cell *matHeaderCellDef>RTB</mat-header-cell>
    <mat-cell *matCellDef="let row">{{row.rtb}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="psa">
    <mat-header-cell *matHeaderCellDef>PSA</mat-header-cell>
    <mat-cell *matCellDef="let row">{{row.psa}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="hba">
    <mat-header-cell *matHeaderCellDef>HBA</mat-header-cell>
    <mat-cell *matCellDef="let row">{{row.hba}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="hbd">
    <mat-header-cell *matHeaderCellDef>HBD</mat-header-cell>
    <mat-cell *matCellDef="let row">{{row.hbd}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="alogp">
    <mat-header-cell *matHeaderCellDef>Alogp</mat-header-cell>
    <mat-cell *matCellDef="let row">{{row.alogp}}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="detail">
    <mat-header-cell *matHeaderCellDef>Detail</mat-header-cell>
    <mat-cell *matCellDef="let row">view</mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
</mat-table>
<div>
  <div class="mdl-grid mdl-grid--no-spacing">
    <mat-form-field class="mdl-cell mdl-cell--2-col">
      <mat-select placeholder="Custom displayed columns" multiple [(ngModel)]="displayedColumns">
        <mat-option *ngFor="let column of allColumns" [value]="column">
          {{column}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <div class="mdl-cell mdl-cell--5-col mdl-typography--text-center">
      <h5 class="mat-header-cell">
        <b>{{tableTitle}}</b>
      </h5>
    </div>
    <div class="mdl-cell mdl-cell--5-col">
      <mat-paginator [length]="pageMeta?.total_results"
                     [pageSize]="pageMeta?.per_page"
                     [pageSizeOptions]="pageSizeOptions"
                     (page)="pageChange($event)"
      >
      </mat-paginator>
    </div>
  </div>
</div>
